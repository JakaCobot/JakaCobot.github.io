(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1745:function(a,t,s){"use strict";s.r(t);var n=s(81),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"interaction-between-addon-web-pages-and-the-app"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#interaction-between-addon-web-pages-and-the-app"}},[a._v("#")]),a._v(" Interaction between AddOn Web Pages and the App")]),a._v(" "),t("p",[a._v("When a custom web page from AddOn is opened in the JAKA App, the JAKA App provides the "),t("code",[a._v("JAKAController.jakaCall(result)")]),a._v(" method for the web page to call. Additionally, developers can implement specific methods on the web page for the App to callback.")]),a._v(" "),t("h2",{attrs:{id:"jakacontroller-jakacall"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jakacontroller-jakacall"}},[a._v("#")]),a._v(" JAKAController.jakaCall()")]),a._v(" "),t("hr"),a._v(" "),t("p",[t("code",[a._v("jakaCall()")]),a._v(" is implemented by the App and registered when the browser is opened within the App. When the AddOn web page calls "),t("code",[a._v("jakaCall()")]),a._v(", it passes different objects to achieve different functionalities.")]),a._v(" "),t("p",[a._v("This object will always contain the property "),t("code",[a._v("type")]),a._v(" and may contain "),t("code",[a._v("data")]),a._v(".")]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"data"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"{\\"parameter_name\\":\\"parameter_value\\"}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("Note!")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("The value of `data` must be a serialized object.\n")])])])]),a._v(" "),t("p",[t("strong",[a._v("Passing Parameters to an Instruction Block")])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"saveJakaEditorItem"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"data"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"{\\"property_name\\":\\"property_value\\"}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[t("strong",[a._v("Close Browser Window")])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"close"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[t("strong",[a._v("Open Browser Developer Tools Window")])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"showDevTools"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[t("strong",[a._v("Open Robot Teaching Page")])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"jakaMoveRobot"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"data"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v('\n        \\"pose\\"'),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('\\"cartesian_coordinates\\"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v('\n        \\"jointpose\\"'),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('\\"joint_angles\\"\n    '),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v('"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("When the teaching page is saved, the App will call "),t("RouterLink",{attrs:{to:"/en/guide/addOn/AppAPI.html#window-jakacallback"}},[a._v("window.jakaCallBack(data)ðŸ‘ˆ")]),a._v(" and pass the current position information.")],1),a._v(" "),t("p",[t("strong",[a._v("Get the Current App Language")])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"getLanguage"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("After calling this, the App immediately callbacks "),t("RouterLink",{attrs:{to:"/en/guide/addOn/AppAPI.html#window-changelanuagehandler"}},[a._v("window.changeLanguageHandler(language)ðŸ‘ˆ")]),a._v(" with the current language.")],1),a._v(" "),t("h2",{attrs:{id:"window-jakacallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#window-jakacallback"}},[a._v("#")]),a._v(" window.jakaCallBack()")]),a._v(" "),t("hr"),a._v(" "),t("p",[a._v("This function is called by the App when the save button is clicked on the teaching page, and it passes the current position information.")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n * Callback function for when the teaching page is closed\n * @param {*} data Contains the current teaching information\n */")]),a._v("\nwindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[a._v("jakaCallBack")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"jakaCallBack Info"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"jointPose"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("jointPose"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h2",{attrs:{id:"window-changelanguagehandler"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#window-changelanguagehandler"}},[a._v("#")]),a._v(" window.changeLanguageHandler()")]),a._v(" "),t("hr"),a._v(" "),t("p",[a._v("After calling the method to get the current language, the App immediately calls this function and passes the language being used by the App.")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n * Trigger getAppLanguage callback function in the app.\n * @param {*} language The current language passed by the app\n */")]),a._v("\nwindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[a._v("changeLanguageHandler")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("language")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"changeLanguageHandler"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("language"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);