(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{1741:function(a,t,s){"use strict";s.r(t);var n=s(81),p=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"addon网页与app交互"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#addon网页与app交互"}},[a._v("#")]),a._v(" AddOn网页与APP交互")]),a._v(" "),t("p",[a._v("当AddOn的自定义网页在JAKA App中打开时，JAKA App会提供"),t("code",[a._v("JAKAController.jakaCall(result)")]),a._v("方法给web页面调用，同时开发者可以自行在web页面上实现一些指定的方法，供App回调。")]),a._v(" "),t("h2",{attrs:{id:"jakacontroller-jakacall"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jakacontroller-jakacall"}},[a._v("#")]),a._v(" JAKAController.jakaCall()")]),a._v(" "),t("hr"),a._v(" "),t("p",[a._v("jakaCall()由App实现，当在App中打开浏览器时进行注册。当AddOn网页调用jakaCall()时，传入不同的对象，可以实现不同的功能。")]),a._v(" "),t("p",[a._v("该对象中一定会包含属性"),t("code",[a._v("type")]),a._v(",可能包含"),t("code",[a._v("data")]),a._v("。")]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"data"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"{\\"参数名\\":\\"参数值\\"}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("注意！")]),a._v(" "),t("p",[t("code",[a._v("data")]),a._v("的值必须是经过序列化后的对象。")])]),a._v(" "),t("p",[t("strong",[a._v("关闭浏览器窗口")])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"close"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),a._v(" "),t("p",[t("strong",[a._v("打开浏览器开发者工具窗口")])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"showDevTools"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[t("strong",[a._v("打开机器人示教页面")])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"jakaMoveRobot"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"data"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v('\n                    \\"pose\\"'),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('\\"笛卡尔坐标\\"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v('\n                    \\"jointpose\\"'),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v('\\"关节角\\"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v('"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("点击示教页面保存时，App会调用"),t("RouterLink",{attrs:{to:"/guide/addOn/AppAPI.html#window-jakacallback"}},[a._v("window.jakaCallBack(data)👈")]),a._v("，将当前的位置信息传入。")],1),a._v(" "),t("p",[t("strong",[a._v("获取App当前语言")])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"getLanguage"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("调用后App立即回调"),t("RouterLink",{attrs:{to:"/guide/addOn/AppAPI.html#window-changelanuagehandler"}},[a._v("window.changeLanuageHandler(language)👈")]),a._v("传入当前语言。")],1),a._v(" "),t("h2",{attrs:{id:"window-jakacallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#window-jakacallback"}},[a._v("#")]),a._v(" window.jakaCallBack()")]),a._v(" "),t("hr"),a._v(" "),t("p",[a._v("示教页面点击保存时的，App回调该函数并将当前的位置信息传入。")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n * 示教页面关闭时app的回调函数\n * @param {*} data 包含了当前示教的信息\n */")]),a._v("\nwindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[a._v("jakaCallBack")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"jakaCallBack Info"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"jointPose"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("jointPose"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h2",{attrs:{id:"window-changelanuagehandler"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#window-changelanuagehandler"}},[a._v("#")]),a._v(" window.changeLanuageHandler()")]),a._v(" "),t("hr"),a._v(" "),t("p",[a._v("调用获取当前语言方法后，App立即回调该函数，并传入当前App使用的语言。")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n * 触发getAppLanguage app的回调函数。\n * @param {*} language app传入当前语言\n */")]),a._v("\nwindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[a._v("changeLanuageHandler")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("language")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"changeLanuageHandler"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("language"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=p.exports}}]);