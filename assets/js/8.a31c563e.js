(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1449:function(t,e,a){"use strict";a.r(e);var n=a(81),s=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"custom-command-basics"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#custom-command-basics"}},[t._v("#")]),t._v(" Custom Command Basics")]),t._v(" "),e("p",[e("strong",[t._v("Learn about the development process and fundamentals of custom command-type AddOns by creating JAKA_Command.")])]),t._v(" "),e("h2",{attrs:{id:"overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),e("p",[t._v("  We will create a custom command-type AddOn that outputs different content in the App log based on the content on the command block.")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("img",{attrs:{width:"800",src:a(697)}})]),t._v(" "),e("h2",{attrs:{id:"creating-jaka-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-jaka-command"}},[t._v("#")]),t._v(" Creating JAKA_Command")]),t._v(" "),e("h3",{attrs:{id:"step-1-create-an-addon-package"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-1-create-an-addon-package"}},[t._v("#")]),t._v(" Step 1: Create an AddOn Package")]),t._v(" "),e("p",[t._v("  First, we need to create the basic AddOn files, including a .ini configuration file and a JSON file for data storage. You can create them manually from scratch or modify the AddOn template in the "),e("a",{attrs:{href:"https://github.com/JakaCobot/jaka_addon_kit",target:"_blank",rel:"noopener noreferrer"}},[t._v('"'),e("em",[t._v("Template")]),t._v('"'),e("OutboundLink")],1),t._v(" directory in the AddOn development package repository.")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Directory Structure")]),t._v(" "),e("p",[t._v("|——JAKA_Command"),e("br"),t._v("\n   |——AddOn.json"),e("br"),t._v("\n   |——JAKA_Command_config.ini")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("AddOn.json")]),e("br"),t._v("\n  The JSON file can be empty; data will be generated in the following steps.")]),t._v(" "),e("li",[e("strong",[t._v("JAKA_Command_config.ini")]),e("br"),t._v("\n  The "),e("RouterLink",{attrs:{to:"/en/guide/addOn/iniConfig.html"}},[t._v("configuration file")]),t._v(" should contain the following:"),e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token section"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token section-name selector"}},[t._v("AddOnInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("convention")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("3.0")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("name")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("JAKA_Command")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("description")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v('"'),e("span",{pre:!0,attrs:{class:"token inner-value"}},[t._v("Output information in the log")]),t._v('"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("version")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("1.0")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("type")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("portal")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("10006")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("url")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("http://localhost/myAddOnUi")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("languagetype")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("node-red")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("service")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("AddOn.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("serviceenabled")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("1")]),t._v("\n")])])])],1)]),t._v(" "),e("h3",{attrs:{id:"step-2-packaging-uploading"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-2-packaging-uploading"}},[t._v("#")]),t._v(" Step 2: Packaging & Uploading")]),t._v(" "),e("p",[t._v("  Next, we will package the AddOn and upload it to the controller for command block development. The packaging format should be "),e("code",[t._v(".tar.gz")]),t._v(". On Windows, you can use tools like 7z for secondary compression."),e("br")]),e("div",{attrs:{align:"center"}},[e("img",{attrs:{width:"800",src:a(698)}})]),t._v("\n  In the App, go to the Attached Manager page to upload the AddOn."),e("br"),t._v(" "),e("div",{attrs:{align:"center"}},[e("img",{attrs:{width:"800",src:a(699)}})]),e("p"),t._v(" "),e("h3",{attrs:{id:"step-3-develop-custom-commands"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-3-develop-custom-commands"}},[t._v("#")]),t._v(" Step 3: Develop Custom Commands")]),t._v(" "),e("ol",[e("li",[e("p",[e("strong",[t._v("Run the AddOn and Check the Port")])]),e("div",{attrs:{align:"center"}},[e("img",{attrs:{width:"1000",src:a(654)}})]),e("p")]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Access the Developer Interface")]),t._v("\nUse "),e("code",[t._v("IP:Port")]),t._v(" to access the developer interface.\n")]),e("div",{attrs:{align:"center"}},[e("img",{attrs:{width:"1000",src:a(655)}})]),e("p")]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Deploy the Customized Commands Node")]),t._v("\nIn the left toolbar, find the "),e("code",[t._v("Customized Commands")]),t._v(" node, drag it into the canvas, and click deploy.")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Open the Command Block Generation Tool")]),t._v("\nDouble-click the "),e("code",[t._v("Customized Commands")]),t._v(" node to open the command block generation tool page.\n")]),e("div",{attrs:{align:"center"}},[e("video",{attrs:{width:"1000",controls:"",autoplay:""}},[e("source",{attrs:{src:a(653),type:"video/mp4"}})])]),e("p")]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Rename and Color the Command Block")]),t._v("\nRename the command block to "),e("em",[t._v("hello_jaka")]),t._v(" and set its color to green.")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Use Default Attributes")]),t._v("\nThe "),e("em",[t._v("Basic Configuration")]),t._v(" page defines the style and attributes of the command block. Use the default attributes without making any changes.")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Use Default Script")]),t._v("\nDefine the behavior of the command block on the "),e("em",[t._v("Script Generation")]),t._v(" page. Use the default script without making any changes.\n")]),e("div",{attrs:{align:"center"}},[e("img",{attrs:{width:"1000",src:a(656)}})]),e("p"),t._v(" "),e("ul",[e("li",[t._v("For JAKA script syntax, please refer to "),e("RouterLink",{attrs:{to:"/guide/jks.html"}},[t._v("JAKA Programming Script")]),t._v(".")],1),t._v(" "),e("li",[t._v("For a more detailed usage of the "),e("code",[t._v("Customized Commands")]),t._v(" node, please refer to "),e("RouterLink",{attrs:{to:"/guide/addOn/Commands_Tool.html"}},[t._v("Custom Command Creation Node")]),t._v(".")],1)])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("Complete the HTTP Process")]),t._v("\nWhen saving custom commands in the App, the script is obtained through an HTTP GET request. Therefore, use the "),e("code",[t._v("http in")]),t._v(" and "),e("code",[t._v("http response")]),t._v(" nodes to complete the process.")])])]),t._v(" "),e("div",{attrs:{align:"center"}},[e("img",{attrs:{width:"1000",src:a(700)}})]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Note!")]),t._v(" "),e("p",[t._v("The URL of the "),e("code",[t._v("http in")]),t._v(" node should match the name of the custom command block!")])]),t._v(" "),e("h3",{attrs:{id:"step-4-running"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#step-4-running"}},[t._v("#")]),t._v(" Step 4: Running")]),t._v(" "),e("p",[t._v("  After deploying the flow in Node-RED, you can use the custom command block in the App.")]),t._v(" "),e("div",{attrs:{align:"center"}},[e("img",{attrs:{width:"1000",src:a(701)}})]),t._v(" "),e("h2",{attrs:{id:"how-to-debug"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-debug"}},[t._v("#")]),t._v(" How to Debug?")])])}),[],!1,null,null,null);e.default=s.exports},653:function(t,e,a){t.exports=a.p+"assets/media/open_coustomer_node.fa6d5e03.mp4"},654:function(t,e,a){t.exports=a.p+"assets/img/run_addOn.00186c20.gif"},655:function(t,e,a){t.exports=a.p+"assets/img/developPage.01a9b62d.png"},656:function(t,e,a){t.exports=a.p+"assets/img/creat_block.148d5ca0.gif"},697:function(t,e,a){t.exports=a.p+"assets/img/showcase.23bc5a40.png"},698:function(t,e,a){t.exports=a.p+"assets/img/compress_addon.01c8b684.gif"},699:function(t,e,a){t.exports=a.p+"assets/img/upLoad_addon.13380e49.png"},700:function(t,e,a){t.exports=a.p+"assets/img/Add_Http.57d4df37.gif"},701:function(t,e,a){t.exports=a.p+"assets/img/program_hello.bbf58bd2.gif"}}]);